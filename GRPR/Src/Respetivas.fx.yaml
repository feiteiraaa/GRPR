Respetivas As screen:
    OnHidden: |-
        = UpdateContext({ _Associar:false})
    OnVisible: |-
        =//UpdateContext({_Associar:false})

    "'Empresas Participadas_1' As dataTable.datatable":
        BorderStyle: =BorderStyle.Solid
        DisplayMode: =DisplayMode.Edit
        Fill: =RGBA(0, 0, 0, 0)
        HeadingFill: =cores.cinzento
        Height: =500
        Items: |-
            = Search(
                    AddColumns(
                        SortByColumns(
                            Filter(
                                Empresas,
                                If(
                                    Checkbox1_3.Value = false,
                                    ThisRecord.Ativo = true,
                                    ThisRecord.Ativo = true Or ThisRecord.Ativo = false
                                )
                            ),
                            varSortCol,
                            varSortDir
                        ),
                        "numeroDocumento",
                        Text('Numero Documento'),
                        "nome",
                        Text(Designacao)
                    ),
                    TextInput2_2.Text,
                    "numeroDocumento",
                    "nome"
                )
        SelectedFill: =cores.amareloMontepio
        Width: =980
        X: =364
        Y: =216
        ZIndex: =2

        Nome_1 As dataTableColumn.textualColumn:
            DisplayMode: =DisplayMode.Edit
            FieldDisplayName: ="Designação"
            FieldName: ="uipp_nome"
            FieldVariantName: ="textualColumn"
            Height: =Parent.Height
            LayoutHeight: =Parent.Height
            OnSelect: |-
                =If(
                    _Associar,
                    Navigate(
                        MembrosDetails,
                        ScreenTransition.None,
                        {_AssociateParticipadas: 'Empresas Participadas_1'.Selected.ID,
                        _Associated:true
                        //_EmpresasParticipadas: 'Empresas Participadas'.Selected.ID,
                        }
                    ),
                    Navigate(
                        ParticipadasDetails,
                        ScreenTransition.None,
                        {
                            _EmpresasParticipadas: 'Empresas Participadas_1'.Selected.ID,
                            ColabFormMode: FormMode.View
                        }
                    )
                )
            Order: =1
            Text: =ThisItem.Designacao
            Width: =100
            X: =0
            Y: =0
            ZIndex: =1

        "'Numero documento_1' As dataTableColumn.numberColumn":
            DisplayMode: =DisplayMode.Edit
            FieldDisplayName: ="NIPC"
            FieldName: ="uipp_numerodocumento"
            FieldVariantName: ="numberColumn"
            Height: =Parent.Height
            LayoutHeight: =Parent.Height
            OnSelect: |-
                =If(
                    _Associar,
                    Navigate(
                        MembrosDetails,
                        ScreenTransition.None,
                        {_AssociateParticipadas: 'Empresas Participadas_1'.Selected.ID,
                        _Associated:true
                        //_EmpresasParticipadas: 'Empresas Participadas'.Selected.ID,
                        }
                    ),
                    Navigate(
                        ParticipadasDetails,
                        ScreenTransition.None,
                        {
                            _EmpresasParticipadas: 'Empresas Participadas_1'.Selected.ID,
                            ColabFormMode: FormMode.View
                        }
                    )
                )
            Order: =2
            Text: =ThisItem.'Numero Documento'
            Width: =100
            X: =0
            Y: =0
            ZIndex: =2

        "'Participacao efetiva_1' As dataTableColumn.numberColumn":
            AutoWidth: =false
            DisplayMode: =DisplayMode.Edit
            FieldDisplayName: ="Participação efetiva"
            FieldName: ="uipp_participacaoefetiva"
            FieldVariantName: ="numberColumn"
            Height: =Parent.Height
            LayoutHeight: =Parent.Height
            OnSelect: |-
                =If(
                    _Associar,
                    Navigate(
                        MembrosDetails,
                        ScreenTransition.None,
                        {_AssociateParticipadas: 'Empresas Participadas_1'.Selected.ID,
                        _Associated:true
                        //_EmpresasParticipadas: 'Empresas Participadas'.Selected.ID,
                        }
                    ),
                    Navigate(
                        ParticipadasDetails,
                        ScreenTransition.None,
                        {
                            _EmpresasParticipadas: 'Empresas Participadas_1'.Selected.ID,
                            ColabFormMode: FormMode.View
                        }
                    )
                )
            Order: =3
            Text: =
            Width: =237
            X: =0
            Y: =0
            ZIndex: =3

        "'Legislacao aplicada_1' As dataTableColumn.complexTypeColumn":
            AutoWidth: =false
            DisplayMode: =DisplayMode.Edit
            FieldDisplayName: ="Legislação"
            FieldName: ="uipp_Legislacaoaplicada"
            FieldVariantName: ="complexTypeColumn"
            Height: =Parent.Height
            LayoutHeight: =Parent.Height
            OnSelect: |-
                =If(
                    _Associar,
                    Navigate(
                        MembrosDetails,
                        ScreenTransition.None,
                        {_AssociateParticipadas: 'Empresas Participadas_1'.Selected.ID,
                        _Associated:true
                        //_EmpresasParticipadas: 'Empresas Participadas'.Selected.ID,
                        }
                    ),
                    Navigate(
                        ParticipadasDetails,
                        ScreenTransition.None,
                        {
                            _EmpresasParticipadas: 'Empresas Participadas_1'.Selected.ID,
                            ColabFormMode: FormMode.View
                        }
                    )
                )
            Order: =5
            Text: =ThisItem.'Legislacao aplicada'.'Tipo de enquadramento'
            Visible: =DRI
            Width: =191
            X: =0
            Y: =0
            ZIndex: =5

    Label1_10 As label:
        FontWeight: =FontWeight.Bold
        Height: =48
        Size: =15
        Text: ="Empresas Participadas do Grupo"
        Width: =529
        X: =365
        Y: =26
        ZIndex: =3

    Icon7_4 As icon.ChevronDown:
        Color: =RGBA(255, 255, 255, 1)
        Height: =20
        Icon: =Icon.ChevronDown
        OnSelect: |-
            =Set(
                varSortCol,
                "uipp_designacao"
            );
            Set(
                varSortDir,
                If(
                    varSortDir = SortOrder.Ascending,
                    SortOrder.Descending,
                    SortOrder.Ascending
                )
            )
        Width: =20
        X: =519
        Y: =228
        ZIndex: =9

    ActionBar_2 As group:
        Height: =5
        Width: =5
        X: =20
        Y: =20
        ZIndex: =9

        TextInput2_2 As text:
            BorderColor: =ColorFade(cores.cinzento, 80%)
            BorderThickness: =1
            Clear: =true
            Color: |-
                =//RGBA(0, 0, 0, 1)
                cores.cinzento
            Default: =
            Fill: =ColorFade(cores.cinzento, 90%)
            HintText: ="Pesquisar"
            HoverBorderColor: =RGBA(128, 128, 128, 1)
            HoverFill: =
            PaddingLeft: =40
            Tooltip: =
            Width: =366
            X: =385
            Y: =156
            ZIndex: =4

        "Icon1_4 As icon.'3DPrinting'":
            Color: |-
                =///RGBA(0, 18, 107, 1)
                cores.amareloMontepio
            Height: =25
            Icon: =Icon.Search
            OnSelect: =//Select(Parent)
            Width: =25
            X: =395
            Y: =164
            ZIndex: =5

        Checkbox1_3 As checkbox:
            BorderColor: =RGBA(0, 0, 0, 1)
            CheckboxBackgroundFill: =ColorFade(cores.cinzento, 90%)
            CheckboxBorderColor: =ColorFade(cores.cinzento, 80%)
            CheckmarkFill: =cores.cinzento
            FocusedBorderThickness: =0
            Height: =40
            HoverColor: =//RGBA(0, 18, 107, 1)
            Text: ="Listar eliminados"
            Width: =215
            X: =790
            Y: =156
            ZIndex: =6

        ParticularesAdd_10 As DynamicBtn:
            BtnOnSelect: =
            BtnText: ="Novo"
            Visible: =If(_Associar,false,true)
            X: =1166
            Y: =156
            ZIndex: =7

        Button2_27 As button:
            BorderColor: =RGBA(0,0,0, 0)
            Color: =RGBA(0,0,0, 0)
            DisabledBorderColor: =RGBA(0,0,0, 0)
            DisabledColor: =RGBA(0,0,0, 0)
            DisabledFill: =RGBA(0,0,0, 0)
            Fill: =RGBA(0,0,0, 0)
            Height: =39
            HoverColor: =RGBA(0,0,0, 0)
            HoverFill: =RGBA(0,0,0, 0)
            OnSelect: |-
                =Navigate(ParticipadasDetails, ScreenTransition.None, {ColabFormMode: FormMode.New})
            PressedColor: =RGBA(0,0,0, 0)
            PressedFill: =RGBA(0,0,0, 0)
            Text: =""
            Visible: =If(_Associar,false,true)
            X: =1165
            Y: =159
            ZIndex: =8

    Icon7_5 As icon.ChevronDown:
        Color: =RGBA(255, 255, 255, 1)
        Height: =20
        Icon: =Icon.ChevronDown
        OnSelect: |-
            =Set(
                varSortCol,
                "uipp_numerodocumento"
            );
            Set(
                varSortDir,
                If(
                    varSortDir = SortOrder.Ascending,
                    SortOrder.Descending,
                    SortOrder.Ascending
                )
            )
        Width: =20
        X: =696
        Y: =228
        ZIndex: =10

    Icon7_6 As icon.ChevronDown:
        Color: =RGBA(255, 255, 255, 1)
        Height: =20
        Icon: =Icon.ChevronDown
        OnSelect: |-
            =Set(
                varSortCol,
                "uipp_participacaoefetiva"
            );
            Set(
                varSortDir,
                If(
                    varSortDir = SortOrder.Ascending,
                    SortOrder.Descending,
                    SortOrder.Ascending
                )
            )
        Width: =20
        X: =935
        Y: =228
        ZIndex: =11

    Icon7_7 As icon.ChevronDown:
        Color: =RGBA(255, 255, 255, 1)
        Height: =20
        Icon: =Icon.ChevronDown
        OnSelect: |-
            =Set(
                varSortCol,
                "uipp_controlo"
            );
            Set(
                varSortDir,
                If(
                    varSortDir = SortOrder.Ascending,
                    SortOrder.Descending,
                    SortOrder.Ascending
                )
            )
        Width: =20
        X: =1115
        Y: =228
        ZIndex: =12

    LeftSectionComponent_18 As LeftSectionComponent:
        TabelaMenu: |-
            =Table(
                {
                    selected: true,
                    icon: Icon.Home,
                    text: "Inicio",
                    Navigate: Inicio,
                    VisivelPara: true
                },
                {
                    selected: false,
                    icon: Icon.Bug,
                    text: "Developer",
                    Navigate: Developer,
                    VisivelPara: godMode
                },
                {
                    selected: false,
                    icon: Icon.People,
                    text: "Particulares e empresas respetivas",
                    Navigate: Particulares,
                    VisivelPara: Or(godMode, DGC_Editor, DGC_Validador, DGP_Editor, DGP_Validador, GCONT_Editor, GCONT_Validador, DCOMP_Consulta, DAI_Consulta)
                },
                    {
                    selected: false,
                    icon: Icon.OfficeBuilding,
                    text: "Empresas respetivas",
                    Navigate: Respetivas,
                    VisivelPara: godMode//Or(godMode, DGC_Editor, DGC_Validador, DGP_Editor, DGP_Validador, GCONT_Editor, GCONT_Validador, DCOMP_Consulta, DAI_Consulta)
                },
                {
                    selected: false,
                    icon: Icon.OfficeBuilding,
                    text: "Empresas participadas do grupo",
                    Navigate: Respetivas,// _Associar:false,
                    VisivelPara: Or(godMode, DCRF_Editor, DCRF_Validador, DCOMP_Consulta, DAI_Consulta)
                },
                {
                    selected: false,
                    icon: Icon.Information,
                    text: "Atividade",
                    Navigate: Atividade,
                    VisivelPara: Or(godMode, DGC_Editor, DGC_Validador, DCRF_Editor, DCRF_Validador, DGP_Editor, DGP_Validador, GCONT_Editor, GCONT_Validador, DCOMP_Consulta, DAI_Consulta)
                },
                {
                    selected: false,
                    icon: Icon.Notebook,
                    text: "Listagens",
                    Navigate: Listagens,
                    VisivelPara: Or(godMode, DCRF_Validador, DGC_Validador, DGP_Validador, GCONT_Validador, DCOMP_Consulta, DAI_Consulta)
                },
                {
                    selected: false,
                    icon: Icon.Settings,
                    text: "Configurações",
                    Navigate: Configuracoes,
                    VisivelPara: Or(godMode, DRI)
                }
            )
        ZIndex: =13

